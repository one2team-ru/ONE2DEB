{
    "Regex":
    {
        "Show packages":
        {
            "Match": "@/package/(.+)/(.+)@",
            "Service": "Entity.Show.Static",
            "Method": "Do",
            "Call":
            {
                "Entity": "Package",
                "Where": {
                    "Meta.Package": "$1",
                    "Meta.Architecture": "$2",
                    "Meta.X-Private": null
                }
            }
        },
        "Private List with compressed":
        {
            "Match": "@/(.+)/binary/Packages(.+)@",
            "Service": "Package.List",
            "Weight": 40,
            "Method": "Generate",
            "Call":
            {
                "Key": "$1",
                "Format": "$2",
                "Renderer": "View.Plaintext"
            }
        },
        "Private List":
        {
            "Match": "@^/(.+)/binary/Packages$@",
            "Service": "Package.List",
            "Method": "Generate",
            "Call":
            {
                "Key": "$1",
                "Renderer": "View.Plaintext"
            }
        },

        "Download":
        {
            "Match": "@/download/(.+)@",
            "Service": "Package.Download",
            "Method": "Do",
            "Call":
            {
                "Renderer": "View.File",
                "Where":
                {
                    "Name": "$1",
                    "Meta.X-Private": null
                }
            }
        },
        "Download private":
        {
            "Match": "@^/(.+)/download/(.+)$@",
            "Weight": 50,
            "Service": "Package.Download",
            "Method": "Do",
            "Call":
            {
                "Renderer": "View.File",
                "Where":
                {
                    "Name": "$2"
                },
                "Key": "$1"
            }
        }
    }
}